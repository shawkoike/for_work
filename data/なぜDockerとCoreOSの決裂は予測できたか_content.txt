Why Docker and CoreOS’ split was predictable （2014-12-02） by Daniel ComptonCoreOSとDockerの間で最近、騒動がありました。DockerはCoreOSのクラスタ管理の領域に入り込むために構築している製品の範囲を広げています。それにより、CoreOSがDockerと競合する独自のコンテナランタイムRocketを発表したのです。そういった動きは、Clayton Christensenの『Law of Conservation of Modularity』を読んでいれば十分に予測できるものでした。注意: この理論は、補完するものをコモディティ化することについて書かれたJoel Spolskyの有名な記事に関連していますが、それとは別です。現在DockerとCoreOSに起こっているのは珍しいことでも驚くようなことでもなく、コンピューティングの始まり以来よくあったことです。差別化できる対象は変わり続けていて、誰が差別化できるかをめぐって戦いがあります。アイスホッケーのパックが向かう所を予測するように、価値の動きを予測して動く者が利益を獲得できます。私たちはこのサイクルが何度も繰り返し起こるのを見てきました。最初、メインフレームコンピュータは顧客のニーズに対して性能が不十分だったので、コンポーネントからオペレーティングシステム、販売員まで、一元的に構築、製造、販売する必要がありました。IBMはこの統合システムで価値を獲得し、IBMのサプライヤは利益のない惨めな状態で辛うじて存続していました。しかし数年後、ミニコンピュータとコンピュータの性能が十分になり始め、価値はシステムを組み立てること（IBMとCompaq）から、オペレーティングシステム（Microsoft）、プロセッサ（Intel）、メモリチップ、およびディスクドライブの部品メーカーに移動しました。今度はシステムインテグレータが消耗するだけの厳しい戦いの中、利益のない惨めな状態でやりくりする番になったのです。デスクトップ市場では、プロセッサとオペレーティングシステムの性能がまだ不十分だったため、一層の性能向上が求められ、価値もそこにありました。メモリチップとディスクドライブのメーカーは、そううまくはいきませんでした。メーカーのチップとディスクの性能が十分向上し、モジュール化されると、DRAMやハードドライブのヘッドとディスクを製造するための設備を供給する企業が利益を得るようになりました。2005年になると、Linuxは十分な性能のオペレーティングシステムになりました（サーバコンピューティングの場合、デスクトップコンピューティングについては翌年まで待つ必要がありました）。企業は、オペレーティングシステム上でXenハイパーバイザやAmazon EC2のようなシステムを構築することができ、Linuxをモジュラーコンポーネントのように使うこともできました。これらのクラウドコンピューティングサービスが柔軟なスケーラビリティを提供した結果、その配下のコンピュータはコンピュートユニットの値で表わされるコモディティになりました（スピンアップしてEC2インスタンスを実行している物理マシンを区別しようと思う人はいません）。サーバとオペレーティングシステムは、統合された仮想マシン管理をサポートするためのモジュラーとなりました。2013年までには、クラウドサービスプロバイダの仮想マシンは性能が向上し、コモディティ化が進みました。不十分だったのはアプリケーションの再現性とデプロイ、そしてマルチサーバ管理でした。Puppet、Chef、Ansibleなど、数多くのソリューションがありましたが突出したものはなく、ここで突破口を開いたのがDockerでした。以下は、GitHub上の説明の引用です（太字は私が強調のために使用しました）。モジュール方式や統合の観点から見ると、Dockerコンテナはあらゆるものが同期する統合ポイントになるように設計されていることが分かります。Dockerは、オペレーティングシステム、仮想マシン、物理マシン、サーバオペレータをコンテナの下に配置し、コモディティ化します。また、コンテナ上に構築する際に外部から使用できるAPIのセットも提供します。Dockerがコモディティ化していないのはデータセンターですが、なぜそれが重要なのかはこのあとすぐに分かります。開発者の視点から言えば、アプリケーションをDockerコンテナで実行すると、クラウドサービスはモジュラー（置き換えが可能なコモディティ）として実行されます。これは素晴らしいことです。もしあなたが今のクラウドサービスに満足していないなら、別のクラウドサービスプロバイダに（理論的には）変更できるからです。コモディティ化は薄利多売のビジネスにつながるので、AmazonやGoogleなどのクラウドプロバイダにとってはいいことではありません。価値は、仮想マシンを提供するクラウドサービスプロバイダから、仮想マシン上で実行されるコンテナに移ったのです。コンテナは便利ですが、アプリケーションを実行するにはさらに他のものが必要です。そのためすぐに数多くの企業がDockerのモジュラーコンテナを利用したシステムを構築し、差別化された統合的なサービスの提供をするようになりました。その中で最も有名なのがCoreOSです。CoreOSはLinuxの最低限の機能を備え、クラスタリングを使用してDockerコンテナを実行するツールを提供します。彼らは仮想マシン、そしてDockerコンテナの代わりに単一のクラスタを使用し、プロセスを進める中でデータセンターのコモディティ化を行います。再び価値はDockerコンテナからDockerを利用した統合的なサービスへと移動しました。それが真実であろうとなかろうと、CoreOSやそれに似たサービスはクラウドサービスプロバイダにとって脅威となります。それはつまりクラウドプロバイダを利用した統合的なプラットフォームを構築することでクラウドプロバイダのコモディティ化を行うということです。こういった脅威が出てきたことをきっかけにAmazonやGoogleがDockerコンテナを管理し組織化する新たなコンテナエンジンサービスを発表したことは当然の結果です。これらのサービスはコモディティ化した彼らのコンピューティングインフラストラクチャ上でDockerコンテナの管理を統合することで価値を取り戻そうとするものでした。ただ、想定外だったのはGoogleがコンテナクラスタ管理ツールであるKubernetesをオープンソースとして公開したことです。未だに何が目的でそのようなことを行ったか分かりません。このことはDockerにどんな影響をもたらしたのか？　初めの頃からずっと、Dockerは他社が構築に利用できるモジュラーコンポーネントでした。それは他社にとって素晴らしいものでしたが、Dockerにとってあまり有益なものではありませんでした。というのもDocker自身の定義が差別化されておらず、ごくわずかな価値しか獲得していなかったのです。コモディティ化は利益を増やすのにあまり良い方法ではありません。さらにDockerの投資者にとっても、望むようなハイリターンはあまり期待できません。Dockerをコモディティ化したコンポーネントとして利用するCoreOSが登場し、Dockerは彼らが作っている価値が全てCoreOSなどの企業に奪われつつあると悟ります。彼らがコモディティ化したOS層における価値をDockerが得ることはできません。Dockerに残された道はコンポーネント以上のシステムになることでした。クラスタ内におけるDockerコンテナの実行と構築を行う全てのアスペクトを管理できる製品を作ることはとても理にかなっています。もちろんCoreOSはこのことを懸念しています。今やDockerは開発者の信頼と高いマインドシェアを有し、十分な資金を持った競争相手となっています。そしてこれに対抗してCoreOSがDockerのコンテナ市場占有率を奪い、自社製品をサポートするために競合するコンテナエコシステムを構築するのは自然の成り行きです。RocketはDockerよりも技術的な面で優れている可能性があるので、CoreOSがまず行うことはDockerによりコンテナクラスタ管理スペースから締め出されないようにすることです。また数年経てば、クラスタ管理サービスはコモディティ化され、価値もまた別の所へ移動するでしょう。このサイクルは繰り返されるのです。この競争に勝ち抜くコツはいつもパックの行く先を見定めることなのです。
