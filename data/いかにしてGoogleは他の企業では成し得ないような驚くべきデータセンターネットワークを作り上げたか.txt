<p><a href="http://highscalability.com/blog/2015/8/10/how-google-invented-an-amazing-datacenter-network-only-they.html/" rel="nofollow" title="" class="ext-link">How Google Invented an Amazing Datacenter Network Only They Could Create</a> (2015-08-10) by <a href="https://twitter.com/toddhoffious" rel="nofollow" title="" class="ext-link">Todd Hoff</a></p><p><img src="https://farm1.staticflickr.com/397/20448196031_800175f1fa.jpg" alt="" align="CENTER"><br>
Googleは最近、正当に築き上げてきた誇りを抱きつつ、次のような<a href="http://googlecloudplatform.blogspot.com/2015/06/A-Look-Inside-Googles-Data-Center-Networks.html" rel="nofollow" title="" class="ext-link">発表をしました</a>。</p><p>Googleのデータセンターネットワークは、目に見えるGoogleのほとんどの仕事を背後から支える基盤のようなものですが、この「二分割帯域幅」とはどんなもので、なぜそれが重要なのでしょうか。二分割帯域幅については、以前に<a href="http://highscalability.com/blog/2012/9/4/changing-architectures-new-datacenter-networks-will-set-your.html" rel="nofollow" title="" class="ext-link">Changing Architectures: New Datacenter Networks Will Set Your Code And Data Free（アーキテクチャを変える：新しいデータセンターネットワークがコードやデータを解放する）</a>で話しました。手短に言うと、二分割帯域幅とはGoogleのサーバが相互に通信するために使うネットワークのことを指しています。</p><p>データセンターネットワークは、以前はユーザとの通信が中心でした。例えばWebページへの要求がブラウザから送られてきたとしましょう。その要求がサーバに到達すると、サーバは他の2、3のサーバとだけ通信して、あるいは他のサーバとは通信さえもせずに応答を生成しクライアントに返していました。このようなネットワークの型はNorth-South（北-南、垂直型）ネットワークと呼ばれています。この場合、要求の遂行に内部的な通信はほとんど必要ありません。</p><p>この通信の形態は、WebサイトやAPIの機能が時間と共に充実してきたことで一変しました。現在では、サイトの1ページを作るためでさえ<a href="http://highscalability.com/blog/2012/6/18/google-on-latency-tolerant-systems-making-a-predictable-whol.html" rel="nofollow" title="" class="ext-link">数千もの</a>バックエンド要求が出されることもあります。驚きですよね。つまり、対ユーザが中心だった通信の型が、データセンター内の他のマシンに向けた通信へとシフトしたというわけです。このような型はEast-West（東-西、水平型）ネットワークと呼ばれています。</p><p>東西型主体の通信パターンへと移行したことで、データセンターネットワークには異なる<a href="https://ja.wikipedia.org/wiki/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%BB%E3%83%88%E3%83%9D%E3%83%AD%E3%82%B8%E3%83%BC" rel="nofollow" title="" class="ext-link">トポロジー</a>が必要となってきます。従来の<a href="https://storagemojo.com/2008/08/24/fat-trees-and-skinny-switches/" rel="nofollow" title="" class="ext-link">ファットツリー</a>型ネットワーク設計では事足りなくなるため、何か新しいもので置き換えなければなりません。</p><p>Googleは、<a href="http://research.google.com/pubs/pub35290.html" rel="nofollow" title="" class="ext-link">The Datacenter as a Computer（単一コンピュータとしてのデータセンター）</a>という同社のビジョンに先導される形で、リッチサービス対応のネットワーク設計に関して最前線を走ってきました。データセンターがコンピュータであれば、ネットワークは単一コンピュータの<a href="https://ja.wikipedia.org/wiki/%E3%83%90%E3%83%83%E3%82%AF%E3%83%97%E3%83%AC%E3%83%BC%E3%83%B3" rel="nofollow" title="" class="ext-link">バックプレーン</a>と同等と言えるでしょう。リモートのディスクやストレージにローカルのごとくアクセスするためにも、できる限り高速かつ信頼性の高いネットワークが必要となります。</p><p>Googleの挑戦は3つの計画を中心に展開されています。1つ目は<a href="https://en.wikipedia.org/wiki/Clos_network" rel="nofollow" title="" class="ext-link">Closトポロジー</a>を使うこと、2つ目は<a href="https://www.youtube.com/watch?v=ED51Ts4o3os" rel="nofollow" title="" class="ext-link">SDN（Software Defined Networking）</a>を使うこと、そして3つ目はGoogleらしいやり方で独自のカスタム装置を構築することです。</p><p>これまでのGoogleは、ネットワークの設計に関して公開を制限してきました。ただ今回は、<a href="https://www.youtube.com/watch?v=FaAZAII2x0w" rel="nofollow" title="" class="ext-link">ONS（Open Networking Summit）2015の水曜日の基調講演</a>において、Googleのフェローでネットワーク技術責任者の<a href="http://research.google.com/pubs/AminVahdat.html" rel="nofollow" title="" class="ext-link">Amin Vahdat</a>が、その詳細について全てではありませんが非常に興味深い話をしてくれました。また、<a href="http://conferences.sigcomm.org/sigcomm/2015/pdf/papers/p183.pdf" rel="nofollow" title="" class="ext-link">Jupiter Rising: A Decade of Clos Topologies and Centralized Control in Google’s Datacenter Network（台頭するJupiter：GoogleのデータセンターネットワークにおけるClosトポロジーと集中管理の10年</a>という参考になる研究論文もあります。</p><p>なぜGoogleはこの段階で詳細をリリースしたのでしょうか。考えられるのが、GoogleはAmazonと激しく競合しており、説得力のある差別化のポイントを探し出す必要があったということでしょう。Googleはそのような点の1つとして、自社のデータセンターネットワークに期待をかけています。</p><p>では、Googleの違いとは何でしょうか。概要は次の通りです。</p><p>どうですか。万人の心をつかむメッセージではないものの、一部の人を取り込むことはできるのではないでしょうか。</p><p>講演において私が重要だと感じた点を以下に挙げます。</p><p>いい物語には、コア・アイデンティティをベースに行動する人物が登場するものです。Googleは、スケーラブルなソフトウェア・システムを構築する中で独自に育んできたユニークなビジョンによって活動しています。自らのビジョンに誠実でありつつ、従来の常識とは完全に異なるデータセンターネットワークを構築する勇気を持つのは、恐らくGoogleだけではないでしょうか。それに取りかかるにはとてつもない覚悟が必要となります。いい物語とは、そんな時に生まれるのです。</p><p>次に、悲しくなるほど不十分ですが、私なりに講演を解説します。</p><p><img src="https://lh4.googleusercontent.com/xK48BYy9f3FMGsmk8KAkpcfsTUVLrKpst2uqYiIKiogHgS7IGpEpEeT9iLd5DOjggK7IcQ6PIysC2varP7O1g39Od2O3B67Cvg6cJ2ip3CkZF4ktxUvBI0ptcYD3Mppo10ZgtQ" alt="" width="624px;" height="299px;"></p>
